local logfile = "/logfile.txt"

local logfile = fs.open("/logfile.txt", "w")
logfile.write("Log started")
logfile.close()

function log(str)
    local logfile = fs.open("/logfile.txt", "a")
    str = str .. "\n"
    logfile.write(str)
    logfile.close()
end

function log_table(str, table)
    if table == nil then
        log(str)
    else
        for i, value in pairs(table) do
            str = str .. "{"..i..","..value.."}, "
        end
    end
    log(str)
end


-- Tunnel map is like {depth_main tunnel: {Depth_tunnel_left, depth_tunnel_right}}


function load_map(depth)
    local file_name = "/tunnel_map"..depth..".csv"
    local map = {}
    map[0] = {0, 0} -- Default initialisation
    local file = fs.open(file_name, "r")
    if file == nil then
        return map
    end

    file.close()
    return map
end

function save_tunnel_map(depth, map)

end